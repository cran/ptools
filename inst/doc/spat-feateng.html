<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Andrew Wheeler" />

<meta name="date" content="2022-07-19" />

<title>Spatial Feature Engineering with ptools</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Spatial Feature Engineering with ptools</h1>
<h4 class="author">Andrew Wheeler</h4>
<h4 class="date">2022-07-19</h4>



<p>This vignette goes over the different functions the <code>ptools</code> package has to generate spatial features common to criminological stype spatial covariate analysis. These include creating spatial units of analysis (grid cells, hexagons). And calculating different spatial feature engineering, such as the distance to nearest and kernel density estimates for covariate values.</p>
<div id="creating-spatial-units-of-analysis" class="section level2">
<h2>Creating Spatial Units of Analysis</h2>
<p>I will start off with an example loading in the data that is included in the package, and I load the <code>sp</code> library to use its simple plotting functions.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(ptools)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(sp)     <span class="co">#for plotting functions</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(raster) <span class="co">#for buffer later on</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">plot</span>(nyc_bor)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="kw">plot</span>(nyc_shoot,<span class="dt">pch=</span><span class="st">&#39;.&#39;</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>We can create a set of vector grid cells over the study area. The projection is in feet, so here I make half-square mile grid cells over the NYC borough outline.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>hm_grid &lt;-<span class="st"> </span><span class="kw">prep_grid</span>(nyc_bor,<span class="dv">5280</span><span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="kw">plot</span>(nyc_bor)</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw">plot</span>(hm_grid,<span class="dt">col=</span><span class="st">&#39;grey&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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P/dv7bjrr3603Pms619EQHff9rjrr3603FlAJ7nmAf75tsddf/Wj5c4COsk1D/DPtz3u+qsfLXcW0EmueYB/vu1x11/9aLmzgPgmdQO6ZgI8eV1HXH/b+qn7X0RAi297xPW3rZ+6/0UEtPi2R1x/2/qp+19EQItve8T1t62fuv9FBLT4tkdcf9v6qftfRECLb3vE9bet/89p/7OXi9QNiBbqBnTNBNh0iqsm4KnXv4iANpxCQOsEtOEUAlonoA2nENA6AW04hYDW1Q2IFuoGdOobvvrRplNcNYHWtgzOP5yANpxCQOsEtOEUAlonoA2nENA6AW04hYDW1Q2IFuoGdOobvvrSP5kAJ+1/8/Pz83ixZhPmHQENDejJxQR0EQEJKCIgAUUEJKCIgATE5ysY0EkTZnV9zzH2Xf/oJQ+drwgBvTyGgN4R0MtjCOgdAb08hoDeEdDLYwjonYIB0UnBgMZNoOfO/gqOnK8vAZ3+HQhosssDKnD+vgRU4vx9CajE+fsSUInz91UwIDopEtA5E2b2G77tfJ9FQGPuQkDXElBXAhpzFwK6loC6KhIQXc0O6KQJs/rR9Tczcf8ZBHT2zQjoUgJqTkBn34yALiWg5mYHRHPzAjpnwqyvz76lLyGgUbf0JQQ06pa+hIBG3dKXENCoW/oSAhp1S1/Cr/FEZgc0YAJxJQERERARAREREJHZAdHc7IDSCXR/mZn38bUERERARAREREBEBERkdkA01/df56AEAREREBEBEREQEb+FEWk1gahHQEQERERARARExG9hROpOIFoQEBEBEREQEQERERARv8YTKTiB6ERARAREREBEBETEb2FEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQERERARAREREBEBEREQEQEROQ/vbh2PWITYa0AAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>I have provided two arguments to the functions to limit the vector areas returned. One is sometimes we only want areas that have at least one observation for certain analyses (so at least one shooting over the 15+ year period in the current sample).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>lim_grid &lt;-<span class="st"> </span><span class="kw">prep_grid</span>(nyc_bor,<span class="dv">5280</span><span class="op">/</span><span class="dv">2</span>,<span class="dt">point_over=</span>nyc_shoot)</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">plot</span>(nyc_bor)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">plot</span>(lim_grid,<span class="dt">col=</span><span class="st">&#39;grey&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAJACAMAAABSRCkEAAAACVBMVEUAAAC+vr7////xRzILAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAXgUlEQVR4nO2diZakKBAAGf//o+d1eXGLpkCCEbtvZiyrNYHoFMHDLAACTO8AYGwQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAlTGT1/DkxeuOWRX690fvWKqAQHUx6x8IBM/Y6heB4BF79SIQPMIVKNOhHravPWrcg+BXrxlWlBSzlUcXsdqNKrRmqBEPdAhUk3jtRtIQAkGMZO26ChkEgiiZ2rXTEAJBlIvK3R0yHMIgynXl/hxCIIjzhcr9Qhl7kajbf3a6CRfaxigGgeqBQCACgUBCqmoRCIpAIBDxjar9Rim78Kvaf2FuucpAsfV6QaBarDWLQPAQBAIRCAQS7KvpEQhu865AeptJb2SD83LFqr2YWmlYw+PcjnGdYZIf2ZtUKZHCkKaggkC/zaprL3UBTUItgRoX4xp9Ec1BPYGUtZiycGbhqNZ3Bdqe9aHpQKYolJmo1MTm7z9dTaYrmnkwsXGg5xloXdgOYKrOxhSFMhHGmO1+ixoCqVJITSAzsaaJXzO/KtDhj6LjmJpAZmI7zvz9VUugZVHSdiqCmIzjftNKGci6o7U/KoKAQvwekILWUxDCbNzKMEUZ6CeMNYZogn/0o38E0/G+QOvoYeiPBjTFMgkVBDoewrAo0weBKlBFoMXqm7t0bkEEepnYidcLc2HHASx4bGe7okXpvf/pqCTQEj/x6n886x7AZFSvT20Npi2e0THF974XZqDoIUtRqykKZQbisxcCgYJpL2s6XkXbqQhiHioItM3L2nvYpzI0NJ6GGOYhfJ6C/BC2nsHbfWjXps4oCGEiKgjk9Xr2K432pYaFi9M/Argg098x/duvewAzkUoqsnGgUyAng22f9m7A3vufijYCGfc0jKmMeaggkLFdOQTaOGfI+tF7/xNhqgh0bHyJCtS9/boHMA2mTgY6N3+8+9k+i+/eft0DmIVjCLG+QHZa6t5+3QOAQuwxn9Og7u3XPYA5eJxhCtf/YYI/EWgaWgi04l5X1n8ounsAc9BaID3X13cPYA56CdS//boHMAftBLLvm9aAljggi/OK50XDoWtHTSBjUy0DHYes6CVlClATyNjUFihMQV2KGUFNIGNTXSAbDXOoB2oCGZvWAulpNj2RDE1TgTQMQB/oiQTK0dOHRqB3qJaBtgULRfL8oSuaYWkokDIQ6BUQCAQYBAIBhgwEEhAI4CkIJOOlDGP/aW952U7b9eYhBJLRQCB7QR8IJKOJQAaBpqWBQMaQgealvkDhgioQCEQgkIzaGWhbr7ed1AY2CAjUO4DBaSWQtqs4DpSGNQjyNxIWCqTrTgwblUENQ1OBdDaWxpiGwTQ7hP1eF6ayrVQGBQGarqN3UBrWADzOMP/2RGP8DObcr3M8XlPZvcweWuPSTwWBFutGVPt5ZJoV0hnVCMgFCt4r//vM+vNAsUIaYxqDNwQKM1DqfEutQvoiGoUXBPKHAbbPErej6lRIWzzfIn7fcqpVjKqnKmxoi2cU0o+lj2ag+IWpxvnbeu5hqlUyq3qhLZ5RuCnQWs0pgby3gOWOUxzC5sDc7AOteAJNUfdTFKI99wU6D2FHspmi7qcoRHNOG4r7QMegz7qBsuesDtA6A4Q4BU+ey6uwyxyiP0J1xDJM/KhlPQ7TPeHKYIzzD2Pt891ivAQC3aZYoF/acSv4Mqe4+hwfINBElAtk+3IklGyNR/rXv95SKJCWZ9XriGIobgjkiLAvplr+Z8q+0vvOcf52fDf8Th9UBDEWDwWyFsPsYR3roqf4R7fK3pKKtlMRxFjcOoQ5mOg/10Wv0+N9ISqQisbTEMNQ3KqwINFY/8xvKHWYc/6hofE0xDAUsRsx/Ivina5w7F2nwYL789ZIt7P++CFFY9kKQhgK/xqwiEDee3WcLo9xN3XgCRRM3VtrTGJznVAQwlAUCGR/9+w2nx/Zq3dcAc35kbN+cfKZjn50/wiG4kgNBQK5DeyZtDgd59jPpxesDbxULAEKQhiJmwLFEs52CLKmU415JpCKxtMQwzdwb9QxZwIZuwnGjr4xTtKxPgrvqgi+bIx/4u4MHSYzkLOzSDDdQaAbPBfIuFcA2QloOYYGpAJ1aUsEusG1QGafpvKumV6NsXKON0//WCBnkKlHYyLQDS4F2u/dMvEvu3Nhrwjknud1mKFHoGJMgUD5L1t6rf86vi44hNlzaGUXyr4KAt3g+hC2Y6JfDiawrseB7gnU4SohBCpGaVUZ76/GCimtFY2k7yX8d7ne/nOr8m3Bnte6SjqpuOy/lsZtikCFGL+B3xHIaf+XBGraqAhUhjW/mRAoK1hGIGs8WiRQJ4MQqIwXBdqwUtd+Uv9MoEgKatgRQqAizKVAgQDlAu3DjE8Fis6ptWpYBHoHST0GZ/ePtuBvoFHLIlABBXNV5vosLZqh1u1vAlxlsFyEYUu2aVoEKuBaIBNOfxULdF7f/Fyg6ERYk7ZFoGtyF3wdgpiHGcgeCBIIFO02t+hKI9A1ZQJdjhMlMpDVAhKB4rbUb14EusRTY//YFcQ8zUDvCRRty+rti0CXaHmMwRXxMGvHPkbd9MT4GShICrn14cJb61fshS4GIdAlVwJ5Q4D9BOpiEAJdkhUkHAHqKFDKoJqNjEB5THB9qn8avigSKNWcFVsZgS4IZsFCgYwegdobhEAXrBWUbFMTDCH2Fai5QQgkpflFpLr4ctlLuMoQ4RCiIMOkdnl9bcfVt8q28gQEynMp0HqHIAJBjOv3wm93mI4hUI3GRqAcBQK9OZC4Uk+gGq2NQDmuBQqvlkYgOJitdhCoLf5rud2kcKaet8Z5HMpSzxXu9hGoLVmBzDkNj0AQJZ+BfiDQ+5uciNkEqtDcCJRhugyEQI1BoEsQ6FMgUDuuMsgfJpNBrK3cy1CFP58MOfbzOwjUjhkF4iysISUCJZ+R6G4Fgb7IhAIxG98SBCoCgSSMVXtVoh2rCtpiLgcSH40T2WvuZbDkR0WbrNPUCJQhO1m6fgGBqmx1Do5LDVOCPJvqsNc0FKhSSyNQmkuBhspACNSa87Ec9wRRKVC1e9cQKMM0lVPx1sdp6uh9LjJQaiG6fiWZZwrHgdIk97+XoxoIlGYKgWrfd41AGSYQiGck9mQCgaqDQGmmOITVBoFSWE+WQqA0CJSEqimBWkphPRzxXgb6/XDmcpA0zzNcLOm1aVoESmE92+6uQMaY9GPrM7tEoJl4LpDJvvcgs0sEmoitYh40oAme/NtHoDZti0AJEKgMBAIRCJQik2H8h5KVZghrw+lBn7cyUGT7NUCgFMkGulqPQPBHXqBMHweB4LoTjEBHRUGMvEDZgUIEgqxAJnhBDwIBPASBUmy/wReve3qeISI7IwPNxNoA9oA0AkVAoBROAyBQCgTa8WvCaoAqbySM7AyBBsb4t08hUFm91d/FEHz6tZUSqLeVlEDSDJBOB+9kGDKQFhDo1XqDDQS6AIHiGPPqfWFBaz6aCkGgYfhVy4t3pvqt+WwuDYG0EtSCiX8MAdTR8lcJ3kmYOf56KUMEM2pvZRgykAri/rz5dI7sZdQINDwmsvD01mYE+jp2B+gtgc5HviLQ7Fj+5B7ji0BWbYGN2TvV2QeJ3xQod+aOQLNBrRRDVaVokyHIQNOiQwAEGpRWUw0INCkIVFxREAOBiisKYlAvhVBRcaIZaKV2BrF3QwYaFQQqriiIgUDFFQUxEKi4oiAGAhVXFMRBoCIQCEQgUILteiBj/Bdf7F8gA531BBGM9T8C5aoJoqy3FprffwiUrqb6uxiU7U6N4NU7+3oEWuun/i5G5nd1KxkoV0P1dzEuVM411FGK9dL6f+EvsjTDhBki+gS0ZdlOAbPPviIDacU4D1eweVmgYJjg37nmOkwEUouxb222eVcg692+CDQR3vOBbFoJVPTYRgRSyt561QUK7ppHoCloVy9JT8Z4cOwQQbYm9d73lZcykLW3xd7yvQwU/iQZqDsm9SSElbcFOk1BoEnw+7W1BVq20R5PoBuNg0CasE7gmwj0a4TA2VspCIE0kXyg4XKuqC/QxRC0CwI1oaRJjGkkkBWKiT0CL/LszzQI9D0iAsW+pb2BtMfncPVLlfoNdOearor8Uoa5zEBnHPsh7PdvX5nb52Jtm3R2gcLzm8vf6kYCWWHsAsW7PeVJCIFyHGN721KkXiNtFq5ZMoU+RxBbCrQ/kDETVlkVOUVuxDACnWcpx7XKAcUCJUqderJvHYHOJ3mWlf4aBEpiTY3/FsN6z84++IcwPQKVJpfymdWy7b3GGAK9G6WaMt8Z6dF6PqYzKo/oXFFZBgh/Mlnmxs9xXoJA/LiulmNluOXkGwwgUGK2+nWBGj9JPkxAQa86XROpqroz+PgO+gWyIqwrUOMMFDT02fYm2T26sMPkxiTroF4gO8CpBAr374wsmoQK2QYrP617DQSydqRJIL/ssa/F15CBbJz45hXIP2IlVUglpm5nacoFahhez5pwOr/nzFiqFy2a73iZoQR6ngEiP5/cU3r7V+ufZiA3q5hzlD11nh/0v/s1o26BvOgmFWi7f9mEwaSPV85C3+SpmW8IFERgZ5qoHSa50BwECnbVUqDwWGQWT6WEQMYkjnONQaBgVw0FCgcTjft58gCW6Wm3ZSiBJtmVtc/AAX8EyJ6aCE7TjPPVPgwl0NVveISLQ4i7q+cZLhvS0ZMJT6qMM7BzTGVYxycTfmhsz3o3YO/955lDoH1myy2NP2Nq9Wvc/o0x5ya8XlKw0fb03n+eSQSyuyxe0Y6/LBXsazK87o47kmgQ6IJpBAou1HF7yca5tMOb1NgEsmfarSNY7+vMEMjaVUWBvMJ4/rh6RQTaFDPOF8y5uh+qBVId3G3Cc63UWXr0m27XZ1+HQDniwcUzSILCDPE4wxSu90rjjfb4pY4JZPyFfbX15TsV8xYIdH6tnUBep8cv9aVA9scIlGZigdL17p1ZWUe7aN4xCJRmMoGu69rqU5/jh8eqMBt5vW8E8phLoAKFslcl2kbZI9vnNxDIYx6B/KZOFNY4sxheH9kSyASfWKVoy4ACjchxwPE/2/5pzYnZxhj/W44/KipIQQhpshko8usWOWoUZqDI/t7JQO6W3cFoRxVHIGONMnt9b+NOmEX235avC+TuwqQ2VkcgZ9J9OdxZ9mvsfYGMdfa/rUagHM0FCgdV3hLIOzpZHx77Pb6zHtBso9ZvG2cECIEKiEb3qkBpg14TaM8l4cPrIgnJ6kobzx9/lv73R2T/bZsUgfxdmtjGRAIt7rhOqgt8fOu4Usg5grnvnssI1LZNBxSo9i5evULCu7jQu7E0yEFBaM2ftnGXoaKLJB1nTSQDpdfnfl0Tjzsry0BbP2VfWPzk4U9pZSbFjv70gwzYCN0CeeHVEChZAwKBluMEOxj8sQtl9j/jOc86n0egp4wo0Nbq6WAdgWIn+OdHexJCoIcMKZCdNHKFMsGC9z1znN4j0FOc+GoIlKwAgUD2ISxTKGdwyO9Au0PTCPSU2gKlyy8RKH8ICwWyz8/PE3mr9Aj0EOXhPcTrRXs3ZCSf7qIS5THGwiv8DXO+lfylLQzhQQYwZ+/X302y0q3TevslH/cyIBnoJDcSfcVbAj0+C7Jny0vKdaywR40QSEI8uNYCPR7IszJIUcGOFdZqBBKQiK25QI/HYUziEGZNcEXXWP1qBBKgRqDHZ0Epgc7hw9Agd4IDgZ6jODQx56EqNpnbOBgRioO1U7jNrQyS/vKtkj/LAN7ce7BzZyg6s0s3/rYZ5orPCnSv4I8EsvszkSs1wh5zapdW/MluVS/0CuT0AWxeEehWuR91oveH95r45azLRQKKbd9kRgZ68VGB7hX7mUDufu4JFL8eySmSEr4p0M1SCwRKGGTcP/z9efOnCPSEipG1KXT6PsKz+xN/bNlI6I053zm4OQ7kfnSj0OkM4yz8AjYm6C0nLqEPZku3rdivHV9/vDzSTuiNsJ5Axb/1JvYS+aRAFxu0Pg+9iB2iuj/+sAi1MV5cqCMQyEsR+RjuC3RhUOy1uCYmkNqWcVEbZj2B3INJS4ES71Q28Qw0Bl8U6E4MDwRKhZ56JOJ5ymVFiUBSBhUoHHS+3seCQBXQEFh5DCZ2CvZolxrKfQet8QricjKEbKu5s7D1CzJv/Imt4fT5mEAPNpoWSJ5wvCsWxzht99Eacw2BnmzzIgNJcK82GNKe5VMCPdpkNYHcKw5H1edLAj3b4qsCGQt3++OiVKD3w1JQUAUhvI/SQvlhlf2eOt9yfyRTzlZVEN3PuMeuDaXxvy1Qtpg1LxxJXlHmrx4VpSV4WaBOpbQvqg9DGPO03UdpGd4VqE8hjweCx0KYw54FgarhPHIjfPhP63CqobMk2Quu0iQE6lDGjCEz2bMMI5CajZXtMbnLyexZNAsUSSe3BvKOOYKKcUZJP7Z3OnsWpQKds0T7J88Fal3AlCRT2rPoFCi8xuq5QI3Ll7zqUGM9v4Kegp0vwlqXRxQoc9HqrKgp2zpa4k8zLs7Coz5QSyYdbc4xd+laExtu7hBGS5SUL5Iu0hNbpXQ4f/eXlVRvRZSUsIZAPcYP3SUllVsVDWU00RdLSAXqMn9h/1tD1dZHQSmDUcOVAQWydvkRfTQIFI4arsgE6tKAxz4/o48CgV4KwNit1mvczuy777L3PvQuq7N/Z5wnMuiTyUPW20j7tZ/pu/sudC6tu3uJQO4ffTCf06e3QN7eHwtkv1+rp0Cf06e3QC9lIPvK9Z4F+p4+3cv8skB9/fkkvSv8lU70F0+ftdC7xl/Z/9kF6l2c79G9xssCuBhI3C8k6l6a79G9yl8Q6EhA3QvzQfrXeVEEOYF+5+7ri03eiwoK6V/nQoGsGz/7l+WD9K90kUDHUctoKMoX6V/rkgi0jCB+mP7VbkWQuqgjOYGaWoBmdK92O4B7ApnMErSie70/FYiMo4PuzfBQoO5xw0r3hngkEOlHDd1b4olA3YOGg+5tcT8A0o8m+jdG6q6MlSADoY8u+jfHPYH6xwsOChokcWPhyimQ+eIl6/rp3yKFGQh9dNL9row1gEuBcEcpvRumcP+9w4QU/Vrm4ipVB/xRyxAC4Y9eNAvkP3YTFKJWoFUeLlXVjlaBrBst8EczSlvHulZVaYSw0vdZOo9WgiZUCoQ/44BAIEKjQPgzEAoFwp+R6NdaiT1z1jUWqgQK3k4L6tEjEPIMScdGs3ZN6hkWBQIhz8j0bDtD6hmfrs2HPONDE4IIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQMR/nwSp/dJ++0EAAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>So you can see it is not as filled in for Staten Island. Note that there is an additional argument, <code>point_n</code>, if you wanted to limit grid cells even more, so at least 2, 3, etc. points are in a grid cell.</p>
<p>A second way we can limit the grid cells are to not have dongle grid cells – cells that only cover a small portion of the city. Here I only include grid cells that have over 30% of their area inside of the border of the city. Note though that this will cause <em>some</em> areas inside the jurisdiction to not be covered. But you can pretty clearly see the reduced number of areas compared to the original grid cells.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>lim_grid2 &lt;-<span class="st"> </span><span class="kw">prep_grid</span>(nyc_bor,<span class="dv">5280</span><span class="op">/</span><span class="dv">2</span>,<span class="dt">clip_level =</span> <span class="fl">0.3</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="kw">plot</span>(nyc_bor)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="kw">plot</span>(lim_grid2,<span class="dt">col=</span><span class="st">&#39;grey&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># See how many fewer than original</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="kw">print</span>(<span class="kw">nrow</span>(hm_grid))   <span class="co">#original</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; [1] 1493</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="kw">print</span>(<span class="kw">nrow</span>(lim_grid2)) <span class="co">#no dongles less than 30%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; [1] 1290</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="kw">print</span>(<span class="kw">nrow</span>(lim_grid))  <span class="co">#only overlap 1 shooting</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; [1] 865</span></span></code></pre></div>
<p>I also have a similar function, <code>prep_hexgrid</code>, that prepares spatial units of analysis in hexagons instead of square grid cells. One difference is that instead of specifying the size of the cell per length of a side, it specifies it per unit area. So it make it a square mile, use <code>5280^2</code> as the area argument. (Here I make it a half square mile.)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>hex_grid &lt;-<span class="st"> </span><span class="kw">prep_hexgrid</span>(nyc_bor,(<span class="dv">5280</span><span class="op">/</span><span class="dv">2</span>)<span class="op">^</span><span class="dv">2</span>,<span class="dt">clip_level =</span> <span class="fl">0.3</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; Loading required namespace: rgeos</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; Warning in proj4string(obj): CRS object has comment, which is lost in output</span></span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="kw">plot</span>(hex_grid,<span class="dt">col=</span><span class="st">&#39;lightblue&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>)</span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">plot</span>(nyc_bor,<span class="dt">lwd=</span><span class="dv">2</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAJACAMAAABSRCkEAAAACVBMVEUAAACt2Ob///9szueeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2d2YLjKAxFwf//0TMdNgFisWU21z0Pna6Eskl8CiTARF0ACFCrKwDOBgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIgEBABgYAICAREQCAgAgIBERAIiIBAQAQEAiIg0Fh09PBBINBItNZK/x70VxWCQCP5359/QCDwDOOPcWh1XQYBgUaif62PUWh1XQbx1fe1B9o0PV926JNvah/+SfNT6LJdGZuP6YPlOrbiR/BPGBNBa9+VqVQh88KS+r3AsRU/glgg7dqhuBAEAiUygbiQ+uwI6dBqn4GJgBKBfFfmSv2LtM9V6MhKn0IqUBiTpsKYXJ/t3Q7gvBofhEm6TBZG/6fNi8aXf+qY57kIe3sg0EDMJIZrdwrRkPbtlB83OgkINA47CaZLApHE3j1perOTgEDjaAv0U0ZpCAQ4ugRKdYJAwOIGgYoxUJ6d/evUzvIHAo3DJVdsFlZ6/mfd6prfAQKNwnZHhZam1DIdt/oMAo2CEYjvvyAQ4LCDQLcFOmz5IgQaxTOB3LqhY67LMRU9DkagjhgojFAf4tAZtTwQm07dzcLcA3Vo6x4NAg3BDujUW5pGyxRu6Ng5qoZAQzDpVC3W6YqNDrgpCAIN4SWBSEO0+h2V2LZiZ8ONIj4USO8dVW9ZqfPxN4SRmKbiSs8I9aYO7VejbxBuCHuWhTFPXBDo78DdjtE9DlQub8PpnS7aTnX5ELxAPSPR1QfTi23VDu1Ulw/hBVLNGY0bAqkNI6Gd6vId/PifGwl8TaDt7iDbqCrfwY8gq1ggYQzkhhS3MmifmnwIRQgLE6VZmL2FXkOgz/OvofCTEH5pdHdLUyj/679cs/azdPX7/McWlfgYP2X8NFaHQH2xEQT6K1iBwujxKwI5F0kQvYNCG1Tha9AtFX5tkFQgcwzvIgT6OPRed7N5XdOVegz0E0gFFzfpvAwbVeUjmEzJZk8u8xZlYWT80P20+k0GNqrKR3BLCLVtLFR3S1NsmUgsleqz3KXV5/8cUcxshoF6Y53ygxcoa30g0NdIBIraI8FUhg2Aklvnl+sDgd4miplVIpB4OQcE+jxRzGwD37emMvQWxiRsV6GzSSLoaGXrnZam1Acagei/q9miEt+hloJ1xTpJ+WQ+zQikINBXifYkUy8IRL8vygpEB6I3uHobVOFDBIHoZRdNZUQC2UnUIND6y7e+Bh+CrISm/oimMsxB6AJHb80WY9LLK/Al7P3wZtHXsy3usufNJg2/bE7F/phzrL6Aq8//Jci+4uba3mlpSi2T0TAsUdNOG+2eXPym157+U5CQp2cOoys2MpOxdnWR7cSIQOs7MQj0GiQFc4sHxQIpKtAVfTGUPcviNw2B3iKk2lc+hyEQiBzRPLi4Z5PvqVtfg2/glltoG7HEu9Q/jYFCVEVn451A6wOgCwK9hIp2tLMX+Va2xT/vJ0+tLCYfc50YBPoO3ByGYNbdvURzduXP48SBQN+BCsSnYI9GoumwMzlPMGjV+/Wsr8E3iAXiIujHAinmNBDoa0RjQGwO/0QglQqEFuirRAIlk2DPY6CCQAoCfY6QhbkU7I0sjJkujSfk17NNRY6G7ivuUrA7LU2xvBmIjqfg9R4DQJZtKnI0dFvoikCP5sJ0EkrbZ1a+Xco2FTkaIpCLgJ4JlA1g51+iCoE+CNlXXCpQkr8x38JrJtrWvNEcCPQG4e6L6ixqOwZKVsH6jX0pEOhr2IE97fKmQnLVk4XROTV/4ISdcjAIJMc0HLYdiSLoB+NAinxLlD1gcrqd5PnHZtU5kEggbiHrnZFoFbI5CPRHmCzQbuxev/3RZhTxFYEUBPp7+K1XMoHux0Aqu5d+q4CZY/Pq7Y++oqkvVd5XvJ2FuRCaPr9XzpWzdeX2hwZAbhyo3OA0x4GUystDoC9DldFNgZqxkcq/JQot0KeJA6ABAilmKHorIJCI7NuZpQLlk6nMmqCd2LhqJxBtQSaPgZLZ+CvfUGE79q3ZGaT3f4myMGYuzN0etvp9Ftm3ZmeQ9jlvz4VtP564bcUOoSbQG1MZEOjbZGnTMIF2vVC71usQZgm073DQnrU6Bb8v/XtzYXwMtNkXpRK2rNQp/HKmR1lYMdtinzcHhUCfg7kDtXMcSKmooF3ImN4U/a+ga5l2DYO2rNQhMDNX3SPRKlp9b39KBVL2efd1TzuyZ63OQCKQzgVS0cZmirDZjRgREOgxeQR9R6D0BrLQCBGhqFxogT6G8gI9nAuLG50QBoX+LSq4qUI71ukM+Pu/bsyFBS1MnBwe7HaIP7Q517YK7VejQyi1NHQoMH7I7lhV9tu8bQav3XFLdxNuqdBu9TmGDoHSmNnIEgvkFxS5hWMFgS5/iNlvtMFu9TmFEAClriSWOKtoXJwI5NwivVV+Qh8MzX6nDXarzyGoWwKFpkcplQqkY4FKX+KkXTw9+Z222K0+h2DCXFYgP/wXgh8yP6bC6A8TLFXQ7SJLgEC30WQzDi7bipIrbWfMrHE0Gnb7zV/0gZyGOe+GQKCb2HaEtjtptqVCI+RbmtD39OVTeuMVHBEHVHEvjD+1cWbSxJgA+okMm+ZcOfvXcDP6BHIToC4Asi60lQjfbKDUEY3Q7vXbjpA9NQQi2dUv9vn3y81Gxb7sf61SfpMrt0k1zoHJ07MYyI8NOhFcDKTqX5Pr/fLahZCJKTrsPd5hj1qcg4434yhlYe5/v1/5J4LyI8yF2CYKrckporQtDsQnveU6e9TiFGgAVBlITL5Tx/8y7dqSA/v+7udOPh2SCbTLrT5bVOIYmAiaEchn+bxA1gf6kk/ZyAQZF18RgyDQiTARdD7tpSOBwges6R0/sUHR4sRegfYwaIc6nAMXQcfXmaZeyi1GDb9MC5LjpgJlZwne+eYKAh2IXbZjLiknkIoFioadY4Eig1zSFY7QGqTMJVzEBlU4iXQzjvx2r7Ai0d2K49J5k5b58uTqK/K8osfIHoyL7gAQ6DiyDaBoW2Rv3yLDQSHgVnR02q3ssLOpxR6LWXOdLDJaP78Kge5Qn8MwbU7IsyIviEHJsE5SsPWQHHE1EOgGqi6QTcCIQEl6H60f8x2QKu7HUBdIowU6DfZOMP+gqEBuNCjKztJlZ+6oT7/hMBkLWPOZLDnroRQE8jGN3x0hDEcnA8nOJnrx6ZzZnRhIx4n8opAaAvWTTIIlWZjLswJJdhaSq/CTOzBJrtj0rpz2kdotCYkgUDeulSgmRaZVUdQWWzAoReNoHS54c4Cp0DIFDe06yOkKQaBu+Ag6E8iWVclrdG2iG20Ol1vncVBfUERu5lhz1w8E6qYtkG9R4gDoikqQtdLhcuskZesWSFsL7S3R8w2CQL2UIuhEoNA9MQIpKhBV6B2B2JUioz+WqWc7GXYzjlQgFfmTFDSdFm2c/OV+GgP5RMwJNH0ZNQTqg8mSuCws3OvFFDSpFs3OrnC9n2Vh/nvBlSIVMdnipA9m1onOhu+VknGguB3hCrouJvo1u9C10dKUWiYXrqvwpR1Jhjf4k5lzmtNpTIK5y0YiGbagT8FSq3iBWiPROkRW6Wq1aQZBoB5UWyAzd9EQiG+/SNj0QCDtRgVyq6Z8NFPOcjptgZwEvn3pF0jYAtlt9ZKBpGljihCoA+U34+AebAknkH+SLcg9kCCoq3xW0BoYFZyVjEGgDkJIUbqeZvWqDiW7Lrx5cFF0b3mmIiY2jwtOaoMgUJt6Chb8KYwg1vs0P/RHJshq5fkHLoiaMyIEgdpUI1zbhUT+3BBI+XA3HOGBQJpzd4pBEKhJ2wul2AS9swXSIV96LpBmG78JBkGgJj4FK43rBX/SBD0pWBAouuW9Vb5UEad5XH68QRCohbL33BRnFkL3VZ+JKBzA/qayMx13pzLS42QzHfZGpGEfz7hDf4RKXBxH0O0Gh23CjHs9TVijZQphENsyjfp4Rh34K9QSq1oA1B3CJDtRdZQvPfCxmkvtRn0+ow78EUIAVLhuJP96KhCfhd8XiA+kB89rQKA6LYF893PjOj8s2FGea8ausfMaEKhOW6AQvjyLgWqu3C5ve6u0/MBkDALVCcu/2OSHBEDpy73Z05TnxxkEgapEQUXeICjlv46y3YC82dLcLj9sVBoC1WilYCEAmhvrPCg/yiAIVKGVG5XGb3YUaFQ3BoEqNHdz8asQTxBIQ6DZpBuyJg8kg98+Bvo9jDAIAlXwE0lsdmMWkvJTULtlYb7G739G7x/yM9Qnx23upUqT9QtbmlL5EeOJEKgCHWBOL5iy5pQi6IWxTrE8BJpMXSDN3AwBgQChIpALnSHQ60f8EOUYyOVe3NwTYiBgKWdhdisEuqeB2y6MLY8s7E+SjESTv+ywK8+/H0yJkI/xDcK8lqZUHgLNpbLMy2+q4pdDl+dU58c6pQcINJe0RckEUikQCFBaAl2JQ7OFgECbU4xp/BpR28sVlkVvFgNhMnU2pazKL4wIeZcZmN57LgwCTUZFozz0Tzp8z45vkrQfXCw3CLOyLbb8GH8gUIVopQYvUHQV4/Wv5eu8JjaCQNPpEChe8Vosv4NAWBM9nUqL4rf0Sa5RSOUh0J8nudOcESiJeqJNpnaLgUbd1wOBiqjKZhlkd3D6fBhQ3C4Lg0CT4b4iPjzY9J0Ze6aN0IqWhi0/7K4wCFSk/F3K+vLrEPkSfDc2K9bJHqzSgz4nCFSgUyBuutXerrqDQGqsPRcEKqJL7QsRSPEC2RsOlwtEpujGAYEKMAJlMVBp+jRE0vTXKtd+QAxEYrGR/kCgIqqShf2mvbLZL5ry9GzXMfL50HEN1QcClUlzqbiJ0aU9CW0DxX895oCWplR+1tfOQaASSXjDClQOkV7Zsk5SfuCmZPHHNOUsB5I6kAlUTtJI9AGB/izpd+z2C6Si+HWVQLP6MAhUoLbvc3JPc1xQlQWaGQNBoMWEzRHzJMd/PxOTDYUV0lf5ADOen9SHQaAC3GSEe/jnTmn3VjMCpPq2bR3aMg0eQXSf0/hTnEl5UYbuFWhOrFMsD4FWUoqB/dRSXaAdpjIg0EoYgRQJb0iMDYEAQywQced3UX7z7cXrZgXq+PqesdnZlDAaAvFESRRxh0w1lZIiM4VGSqzJwsZsxpF/UBPOcR5+yaG2tlxXCKBVWDJWbRCYXmxMS1MqD4GWQS++m9b2P6iu7cWv2mRHUvDWQ395CLQMMs7sl0XQOKhPoL45VQj0QbRfTaaiL3U3kbPq+YYMZx8E+ovYTz/yJ1ybdKarEqp0F0QM9DF86vX7ScUrDKOcrJoU0SkxZGGfxstCnyD9F/0DV3SUp9ogdBcc0TJhHGgiKhMofo1enDu7cIRMbFysA4E2oNbcpwLdus7VX4ZAn6EhkOA6O4Mg0B+F5FzPQhVeIKVI74YY6HOEiCif1LqbFNn7y6ISblQJWdgnoRsSRNNejxoElX+jmDKrzt5paUrlIdA00k/BDTZf5P7C8nVrhiRZEGWdbJkpjI0g0CyYMSB3AdQbAulEIHdICPQRUoHU2wLFQ0c+KIdAHyERKDQQjTGg/lCF3mYfkjppcNUoD4EWYe74+llFUjBZUhQm00hSJ03vkIXtiHYBrvWnufKwq0GwiVjcIxa+7/luS1Mqj3GgJbgb3zsDoM6Q5GdjuhCkvL1H/4Er5SHQEsgYUFcA1HmBlTssfUk0RwKB9kTTEaAn160mUPKSZJYWAm2KvQBMeyEKVVhXFM3OEAN9BR3PVb2VFHEFFbeZIrKw4/k1DUnzIG4QuIL1XlLYMkGgZehpm2v0hFlPKwKBljFToO7NFCHQOcwTqJrJQ6BT0WM2GOMKVoeCEAOdisrXIQ7Jwuym98jCvgY77CdsEPiC/9I94YFL5TEOtI5YoFdmHIoCFVJ5edAFgRZiDbrszOqJAmGLu5X4PVxGC6RLY0EQ6GiCQL6J+Pc096ALD90F7e3zzw/Ml5/Sg0GgEn49kEvIpNezXNA2Fc8PzJef810HEKhAaHxUPqr45ngfN2r5yoEh0FIUWZQ4XKD6ZmcQ6ETmCcSMOEGgj+BDoPolZR+6C9Jl13G+d7GbOnRWBF/3tJoQBY2cyvDzbuYJsiVeiOCfnRAt0FJC23O/peHLFwqq6DsRwgbnJAXsa8nyA2uMA62DEUgaLLMPZpAgvup0+PL58SHQUnpDZ6FAaQSt/N1jEOhounOvAQJd7wiEydSVPA89iuX5gipEPX5eoxj83KsIBFqGJPkpPk/zLnIzT3Im14fFXziFBWVH4aa/nrU05fK+hCL7liedpe+94uzsSUUg0CJc8vUs1ukpT52h/VUikCzoUhBoDYWxlzcFovOnUcRDfvr1Y88FskOg4z+tCec4jDkCqVDwdzbf6inCU4HULH0gUEa4bgNioHCzNIlw7IZExC23tZUK5e9URLkYbsrnNec0L3H3Q9HkIfxRV3/Fxc/Pk59KFhbSL5J7XWboxxW0jYezqPeE/gD2XT75eJ9wkkD2r6wXOpVN+4XGAG15BFGYFNl6aNcYqfCk90kns+ghNmpVxBWc1ne5Gs48mQwTKnQbpFLcdWt8wqMWCHqRvUAqCBRHPsm76Du+LTlXn4MESj7elgapPXF+0vilcQJ5g2gc/atdQaCLmlY/vikIgXhSHxiB0qa/eJ2LBtGmapBAYdzw9x8ndFw+Ip2vh0BPUDaudH+p3Obyyu9saP9rr8YdgdxvjYqBaN+l3LxplvZFaNLx1SvyKwaBMnT03bXBkt9r18VEO4rZsYA8URLI+CPOtipZWJQlxV0WTRjT/9kFHs0Tmr+sEdegzPYCJX+Ayu8CruL8yn3O7QaB6f1+5C3Bs5amXJ7UmLyL0tuO2iLSTpUrAoEYND+mHzU3/rWqQCEK4c/kh/ZksU67vKtz9hVB/j9uaDF+uRmd0RZtFvsLpPgkJNhz9zovFyjUPTl/ZJBKB5NdwwWBblH91PLXPiOQygRyo+RNgTCQSKi0209DlWoILTlwZwyk/Xqg9J0Ggfj4yHd+7PFV2F9/IvsLdOmXk6KKQK9kW40s7Lry3smcX4X/mlKZZNYr7oTzOy9bowXn7MfddPdqg1CYqOYmnd5p8tKCXHRD7wN0vXbeTpGMMzr+gtjHV2nJWXspB0CCkIQXqCNLllXE/6C4/Co0QD7LzwSylmRJ6UJ9NheoFgAdIJCKGjX3ksoaFmUNIj8FgVRUjn4s9pC+/Bo2F+jJdWsLxPy9kvVdbwpEl66a5/yiMnrupEJEILZloQL5sPrlz76XAwR6PwZ6KNDtisQRC3VK+5OSKrin6Hx9USB3YBIRLWFzgUYkRex6vZ6ppgfPu+GckH6RCIgR2aXipjxRPY6FyIHJnOASNhbIRCsvNgihXcj/YGm09WaT50YE3Q/RKa1MYfzHCxSqemVNjLITHWrF6o2M1eev0BLocWzUEujdoMu1OjpfrfrTIAhEwuhQVd8HkjQtrEGDQBWGCcQN0Y0TyE0wpK2FW8hKn/FZFlk57WMdP9Ds16BBoCojBWKmmYYJxM99/bxwz/nbeMwruUDKpfpKuXnWINVSllegzKgY6OKWlI2KgXzwk/mjwmxF/HIQyMfZVhs3XxeWNK43aPX5q4zJwkzuotNTvXPg8vOZP9rP6zIChTTuCgt17XydqzwEajFmHEizYVDHSLSsIkm0kz2XvGvX+flfMG2QDs1n3qytYPX5q4wZidYuDNLxud45cPEhFuhKn+LfNRXIfysLsQYCVRkoENcEjRHImZm0QMXmQ5GKhJ7WJv0Q6BYjBcrCoHEC5d2V84cbQFZcC5QKRBqmIZ98P6vPX2VgDJRnYgPWA5lDKvcQnc4WZN6zt4u6QgQibRcEqjMuCzPJTGrQ21mY8vd/aWbOPdMnpOzWkUggm4L5lD5tx+zRuEZtJBsLNHAcSHNhELPS79GByfFDk+FajtKbVf6mWzs7qm3eHuoY2iRvl473Cb6ubKnIcA4WSBYbMWFQutJPGnQpErS4a8+/VZelU4G0fc4Z4TU0L4R75lXEbIP+uEDZ7NSLArkLHBZ90fPFqZSXxY0tuqVDZOKXSKaDNjoxCAJ5xguUr68YIxAbR/+Wjvn/UoGU/zkTKJaGHFf7k0Igh5vyKV4iaQyUXtLL/wGLDkwE0pFA2cmicWZjhlJEFCdVWkjbnsyEQVFFFD82MI6NBRqdhf3+lxv02glNqBv3L/G5ouEc86PJtkxpl3r50j7h+rXNKtpaMbwh5naygWwu0IsNAl8wi6M7tvforYiiqZUKP/lTJW/WWRP/Qvwq+WSMnllFJodBWwtUWaXzWmyUG6QaWxg0D0winzgOUlQDZSfaozObRoj2YLFB9HNxAqUVmRsGQSBmDwxVzcdaBw6/7QWKOjHajmRnJj+7jD3N/ZXyAkWrmCBQzgKBrihDfijQ7/pyIzQ07KLtTenN56/6Y9kwCALViPr4ITFQvqTi95LvbB4cmHRVVB5XwhtEFrCW1gUZSdKOzqt1WVcgUBGaZQzJwrg1Ofbjtxf29oFpq8MWpAKZU0QKmdPTkOi68mwu/C89/txEfnOBqis6ZC2Tdk1N+eTaXaFbB7aZtIt/8oK+6QlvMFSDtn9eoOgpHSV3+fHnTtAfLJAsNvICVU5OprNuBV0qTGxxJaIu7AqqmHNG0xWkIva3QwSkM4F8DD+RPy5Q/cPWZDbljkDu0hYE8k2QfYfUH9cxxbUL6XqSehWSwIn8bYEaH7a9iPcFClNV7Lhkui7o95J5twn+U6AtUKsGUw3aXKA3B4bzgq0/1s4LFh3YdzEqTHamBWsC5SOObnSzXR8faw+5Fjx7C6SGZmEdn7RLd24cWNncyzuQFyRDieYsLm3y+ZU5dfgUTGdYfodXnKe9eAlabC2QisY5HrY05fKdH7TviPoO7ENnFwszBWvzYTbPT6KiqN1JK3KtccdUb/YJ71BrrcsC9Zbv/rCTy9c6sL/e7rEoUHbBte34iFpcV5ifbYk7pn5LztrHu+u7mE/+bk1uCqTbAuXhkFWB+FM6tVrtjqngulO3qPzZvSCQujNgG5nQJZD5qS5Q1NL8sF6k581OQ93R/W9jBFsLdDOmuRUD3fWnf1LOX3X3az4IDgWDO5lAOj5vevyo2UnKr2BrgV7Jtvjn77T65jp2n1AVoAWV3c0uq0jIqtzvsAf2SdpifXYX6IWWhi9/K2y4WRFOnWRdge29XFtE0aHxIk3wFuEOy271IdxbGXgrNrp3HVxKVTpiqcmh11tH78YLlFckHE/TmHxHd35sWSnDOIHUvRUPKlzRdwWiBZJfI1UN596RfQVqzBnKBLp1NXyTkC7P4AW6oufCMcivhbVkNOAh9tCejHi3IQcL9DgGokv2qv1C3p7UDhwJlF50m/b5GtgnbQlqmv9t3/RskW2V2FYgrV7fLMM8XFEHVhOI65DaJwwpUnzN3WwWbZfoDWThCf/kTtlWiU0F0nQljiDbysqnQ3d1gUiDECKTRkVK/WOY3aA10GTciBw4LrQzm9aSCvTqSHS+Rr1ciUig7oqUBUrl+b1RrmM8R5+NBaLB44sC3bky9wSKYmD2aErl2V8cJf/7p3aMDfljAt36y/Z9S+3ATKBUuPj2t7gzJD3lvkl7zgECvRgD3ewZVHyBoyNy3mS5V/Ke0peCK/YlFzhDIDluHujNLOx+ZBFSIXsoJjFz2Vb8wEFe0n71GM3ffAVP0WdrgQQtDV/+UWTqU6RcnOe4JozUUX7QNWxb5bu3Y7Rjo6fX5z1vPGThK42cXzn2ZHat9LO7aWovPb5ANMaRXeQkZvI1Ptae62iB7nVhgksUHUr0nqKQ2x3Y2nQo+woknbKIH2r+tD+DZnhc+pWLBMVeE1ozdbY+2wpEJ6/fSOOr/gz4DOypXaKls5iZDiK9f/qJbFr7ePUDZ0n5pbv91yiBQtyt6YRXVKvD7bm2Fai9luOmQJPrH4aUI41Crd7M6Zay6Vt4V6D5QQZNs6KcKzQ96qAJrwoHCCSOgaZHqUmaFdWYDgpAoFG4exheycJm9hQ/I0yHlVbkusKMvfnpA/rsKZANWm63NIWC8/zxTUxekTAKNKsyk9jx/ZhbaJ4Ey3wAPe0vnfiTVOSj9lw7CZTeEf6SQDMDoGyKy9Xgo/L8Y5u3lYzzvyXQ1FyHrk91Nfi0Pdc+AuX+vBAD+S+TmPcmkoq4tzOrBvPZQiCzVEfnM0WyLGz6WItK9v12A4jzajCfDQTSYefIF2bdQ4n5fUe2h8uHuy7HBu+wvJ/yrWwre1iwXyB9G39Cnz0ESgb6XxJoweUjAn07ciZs8CZJ0v6iQCuunxfoMzNdbdYLxA7cRq70xkBkS7w1f/90Zw79N/xZL5CbNxLPeRln/GTUijem/Pcwudmv77NYoGjW4mG25SJW12usCz/c+p8lJ1/E4jfb7r9asU5Ieey018Ir+PFBZ5blArWamR6B3AyCcpufLns3M2fe9uALAik/BaXSrd8nv5m/Ezt7NhLocQwU9oFb3IPY+vwpVvfYb9z/5aeg1ocgf02fHQS6lW2xLZObSVvvzx9k+Qf+wiYKVKDVb+fPsfwTf0mgr6/b2pb1H7l4Q3G6FG31m/l7rP/IhRuKmxSe/94JMJ7ln7lsQ3E37mwEWv1e/iKr58JEG4qTaVhgSdUAAAK8SURBVAv0X4vYSKDbI9E06oFAi1gu0PP9oCNn4M8ijhUITc4ebCTQrRgI/mzC8qvwZENxRDz7sPo6qPZIdNoybTBnCjzLL8T9qQzosxPrL8XNqQzosxfrL0ZzWbQf9oE/G7LB1ei7LwzzpXuy/HrYHaBaWRj82ZQNxoF65sJgzq4svS7+bsBK/wV/9mblhXH+NAWCP/uyWKBm7mUFWlhLUGXhpUm/VbsYA/25uz1PYq1AlTmvcKM5OrCdWXkjMJNtuYd429ZldQRNlgvEr/txzQ782Z1lVyfZVzOfMF1VMXCLhVvpVASCP8ewvAXiYiD4cw4LBarstgF/jmHVpWK+Vde1RfDnJJYJxN+OgbT9NHYSCMM+B7KLQE4eM4oIjmGlQCptetwoNDiHdf2F9jNdpN+CPqexfj0Qop6jWb8icWUFgBhcPyACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgAgIBERAICACAgEREAiIgEBABAQCIiAQEAGBgIj/AH40UynwS6MJAAAAAElFTkSuQmCC" style="display: block; margin: auto;" /></p>
<p>The <code>prep_hexgrid</code> function also has the same <code>point_over</code> and <code>point_n</code> arguments as does the <code>prep_grid</code> function. Here I limit to areas with more than 4 shootings.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>hex_lim &lt;-<span class="st"> </span><span class="kw">prep_hexgrid</span>(nyc_bor,(<span class="dv">5280</span><span class="op">/</span><span class="dv">2</span>)<span class="op">^</span><span class="dv">2</span>,<span class="dt">point_over=</span>nyc_shoot,<span class="dt">point_n=</span><span class="dv">4</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; Warning in proj4string(obj): CRS object has comment, which is lost in output</span></span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># Plot shootings in NYC</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="kw">plot</span>(hex_lim,<span class="dt">col=</span><span class="st">&#39;lightblue&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>)</span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="kw">plot</span>(nyc_bor,<span class="dt">lwd=</span><span class="dv">2</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Note that the way I wrote these functions, the <code>clip_level</code> for hexagons can be somewhat slow. Doing <code>point_over</code> though should be reasonably fast. <code>prep_grid</code> converts from raster to vector, so if you have <em>very tiny</em> cells, you may consider just keeping the original raster format for analysis. The conversion to vector will always creep up your memory usage and computation time.</p>
<p>Finally, I have a function that if you have a set of origin points, you can create voronoi polygons within an outline area. Sometimes if working with line or address based features it is simpler to convert to polygons and do subsequent geospatial operations. But note this can take a bit of time as well for any really dense point set (same as really tiny grid cells or hexagons).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Make a smaller sample of the liquor stores in NYC</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>liq_samp &lt;-<span class="st"> </span>nyc_liq[<span class="kw">sample</span>(<span class="kw">rownames</span>(nyc_liq<span class="op">@</span>data),<span class="dv">20</span>),]</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co"># Buffer, it is hard to view all the little islands</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>nyc_buff &lt;-<span class="st"> </span><span class="kw">buffer</span>(nyc_bor,<span class="dv">5000</span>)</span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># Now create Voronoi/Thiessen areas</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>liq_vor &lt;-<span class="st"> </span><span class="kw">vor_sp</span>(nyc_buff,liq_samp)</span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; Warning in sp::proj4string(outline): CRS object has comment, which is lost in</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; output</span></span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co"># Plot to show off</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="kw">plot</span>(liq_vor,<span class="dt">col=</span><span class="st">&#39;tan&#39;</span>,<span class="dt">border=</span><span class="st">&#39;white&#39;</span>)</span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="kw">plot</span>(liq_samp,<span class="dt">add=</span><span class="ot">TRUE</span>)</span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="kw">plot</span>(nyc_buff,<span class="dt">border=</span><span class="st">&#39;black&#39;</span>,<span class="dt">lwd=</span><span class="dv">2</span>,<span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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PsMnXHest4znc/qh9PEjUA9/IgItlR7n0wP6RtU5E5k4Cdf6f/jb6cvWJ4HWSg+pjxeBevhzctJvCmNBrVsX6oQ0pj5OBLJ+Zr2thu8cftqEdfagnSdQynSdY+rjQ6BO/gQN2mTxds5qGz2qod7bdzgI2/y7XeQxZ5/GK31Sv1rHohpZHw8C9fPncO6CRKYGfxrX0PYsDgSq60/a08bm7Lf1L9m3Izn6cGCj69NfoL7+7OuokviLIys+pys6x1/ZnySBjiGU+5PRcr8NTTilL/pegQN/5CsoiG0Wee70FqjIk5QkhametowrWD4hTGPPMplA9v5kXcEyT8X15dcE6ngFE9qzdBbIugZrkLzUS5hSnjszCXThT5MEJl3CtPYsvyRQN38mtmeZSqDLubu6XMHU9iw/I1CrLF5eweT6zPQWdlEAdbmA6fX5FYGapTH6KX322uvBNAJF/GmZx/Mr+Al9egtU0aBzgdomMtbrtd1Z/TCLQGf+NE9ksBL7GX26C1TNoNjsyeZX8Dv6TCPQeQFkfwm/pM/sAplk8nboF9v7plrS+1qbrkxolMrbDotzuqH31bYUyDCXv6pPd4Ga1mA/l8we9P6Q2LQA6nptP0JvgWr4Exbo92qTLszQGk8B1JGed7nWoJ6TAqjjlf0QfQVq5s8Pvg51Yk6B8MeMjve5rj+rg6GPIZMI9PqIhz/m9LvVDfz50Y/BXZlBoI8z+GNPt7tdzR+c6crwAqFPXwYXCH16M7ZA+NOdXve/hj/o44BxBeLh2QVjCsT7uhuGFAh9/DCiQMjjiBHfwvDHEQMKhD+eGE4gnn58MVpjKv44YxCBvj190McXYwhEXx+3DNEjEXv8MoJAmOOYAUZl4I9n/A8sxB/XOB/azJOPdxxPrsCT8wj0FujEIN67RqH7BFPhOU6RZxR6Z2lnEPKMRvdMbYckI89o9M8Wo5KHxkXGkGdcyBpIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBIIBBI/APUDwuPzmDLeAAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
</div>
<div id="spatial-feature-engineering" class="section level2">
<h2>Spatial Feature Engineering</h2>
<p>The spatial feature engineering functions are not only for creating vector spatial units, but assigning typical values we may be interested in. So lets reuse our <code>hex_grid</code> over the city, and calculate the number of shootings in each hexgrid:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>hex_grid<span class="op">$</span>shoot_cnt &lt;-<span class="st"> </span><span class="kw">count_xy</span>(hex_grid,nyc_shoot)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">spplot</span>(hex_grid,<span class="dt">zcol=</span><span class="st">&#39;shoot_cnt&#39;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Remember since <code>hex_grid</code> eliminated some dongles, we may be interested to see if we happened to lose some shootings on the edges of NYC.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">print</span>(<span class="kw">sum</span>(hex_grid<span class="op">$</span>shoot_cnt))</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt; [1] 26224</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="kw">print</span>(<span class="kw">nrow</span>(nyc_shoot))</span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co">#&gt; [1] 26274</span></span></code></pre></div>
<p>So we ended up losing 37 shootings using this grid. We can also use weights in these functions. So here, say I wanted to do a pre/post analysis. A simple way to do that is to weight the observations in the original point pattern, and then use that field as a weight.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>covid_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&#39;03/22/2020&#39;</span>, <span class="dt">format=</span><span class="st">&quot;%m/%d/%Y&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a>nyc_shoot<span class="op">$</span>pre &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">*</span>(nyc_shoot<span class="op">$</span>OCCUR_DATE <span class="op">&lt;</span><span class="st"> </span>covid_date)</span>
<span id="cb11-3"><a href="#cb11-3"></a>nyc_shoot<span class="op">$</span>post &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">*</span>(nyc_shoot<span class="op">$</span>OCCUR_DATE <span class="op">&gt;=</span><span class="st"> </span>covid_date)</span>
<span id="cb11-4"><a href="#cb11-4"></a>hex_grid<span class="op">$</span>shoot_pre &lt;-<span class="st"> </span><span class="kw">count_xy</span>(hex_grid,nyc_shoot,<span class="dt">weight=</span><span class="st">&#39;pre&#39;</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a>hex_grid<span class="op">$</span>shoot_post &lt;-<span class="st"> </span><span class="kw">count_xy</span>(hex_grid,nyc_shoot,<span class="dt">weight=</span><span class="st">&#39;post&#39;</span>)</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="kw">plot</span>(hex_grid<span class="op">$</span>shoot_pre,hex_grid<span class="op">$</span>shoot_post)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>So you can see that the pre and post shooting counts are highly correlated and a few maybe outliers.</p>
<p>Sometimes we want other feature engineering RTM or Egohood style, with density of nearby features. So we can calculate the density (assuming a Gaussian kernel), for liquor stores <em>at the centroid</em> of our polygon features. Since the area of our hexgrid is half a square mile, <code>(5280/2)^2</code>, this means that the vertex to vertex diameter of our hexagon cells is <code>hex_dim((5280/2)^2)</code>, not quite 3300 feet (see also the <code>hex_area</code> and <code>hex_wd</code> functions to convert between different hexagon sizes). So there is not much point of doing a KDE bandwidth for under this (will basically be the same as just counting up the total inside of the hexagon. So here I do a bandwidth of 1 mile.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>hex_grid<span class="op">$</span>kliq_1mile &lt;-<span class="st"> </span><span class="kw">kern_xy</span>(hex_grid,nyc_liq,<span class="dv">5280</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">spplot</span>(hex_grid,<span class="dt">zcol=</span><span class="st">&#39;kliq_1mile&#39;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAJACAMAAABSRCkEAAAAmVBMVEUAAAAAADMAADoAAGYAAGsAAHQAAKwAAOMAAOwAOpAAZrYdAP86AAA6ADo6AGY6OgA6OpA6ZmY6kNtQAP9mAABmADpmAGZmtv97AP+CAP+QOgCQOjqQ2/+uGea2ZgC2///ZNMvbkDrbtrbb///hOcb/Var/dYr/kW7/lmn/sk3/tmb/zTL/0i3/25D/7hH//2D//7b//9v///9pskCgAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2dAZvcJpKGNZu+7otnN7ubcTa+7Iwdb9abS3zjjPX/f9yNJKqEKBAFJanV3d/3xCkEEgL0GlBTFk0LQQY15y4AdNkCQJBJAAgyCQBBJgEgyCQABJkEgCCTABBkEgCCTAJAkEkACDIJAEEmASDIJAAEmQSAIJMAEGQSAIJMAkCQSQAIMgkAQSYBIMgkAASZBIAgkwAQZBIAgkwCQJBJAAgyCQBBJgEgyCQABJkEgCCTABBkEgCCTAJAkEkACDIJAEEmASDIJAAEmQSAIJMAEGQSAIJMAkCQSQAIMgkAQSYBIMgkAASZBIAgkwAQZBIAgkxKAdRAV6zMQ14EoJJMblRNczj0rc2BCxED9EdUAGgbvVLTqWk4cO4SaQWAdiHHzYHs4WLaDADtQgDIz0sbD7EAkJ+XNh5iASA/L208xEoDlG68fTQrANqHmuHd69BwYIhuUn1ROmVbAaCdqAPiQPC4N3miKXr2Tl72AdBuNA5f2QnRjqZKAGg3AkAAyCQABIBMAkAAyCQABIAsapib5MoqBdIp2wsA7UODF4fDJ3LApzjSoilnKThZAHROyU4n3R1lO6ptS04WAJ1TctqTnhDpp0qblJwsADqnAJCflzYeYgEgPy9tPMQCQH5e2niIBYD8vLTxkNO4AO+5cxz8gDLlHGUnC4DOJRszQcr2pScLgM4k26glUjYvPlkAdCYBIJGXNh7qBIBEXtp4qBMAEnlp46FO1wLQl6gA0Noyrp/KFMq2DQJrlZ+sAqCvPzXffBiCz39umh8nMS0AqpDnmnE8uoMh0NljIoWviR+0W37rowSg92+6/zq9vP2x/f1Pj16Mn1fqHlCosQM59mrGwHEa8FJqOqoVq0A2D9DLD4/t83d9h/P7t7+89j4/ejF+Xql7QKHGKQzxckwFxoiaqdKKVSCbAMj7zFSHSoeM02svFMQAoFLdAEDeqQEuH7/9BQAZdcsAfXydPQMgo24YoI+vU2gAZNXmAC3/KOom0X3/M42ZKR0ASooW0wc+OsuBox+YpPA1g9U7eqzh8VH3Gv/8l8cgxs8rdQ9Iqn/KeWaCFL6mxNFjnS96lAD08rb/2fD99+37/t3sR4oJ8krdA4pJM2rteEKEpYxzCwCJvLTxUCcAJPLSxkOdAJDISxsPdQJAIi9tPNT27hyOhZn103QKQXG2lVUAdFY5p43uz+nkDoZAZ13AkZM4OMz7dkQPlqwBWQB0Bo1dy6lXMwZOFFB0R/lOR6QsVwWyAOgMGucyxMtJBPITIsW0R6QsVwWyAOgMAkDRvLTxEACK5qWNhwBQNC9tPASAonlp429d3jL7AExnOUBvYw2dMbNo3zNxnm8wAKCzaXz+gpmApiOlpB098sys9BUYAHQu8QgkR62a8Sw/anHEstUgC4A2FgBK5qWNv20BoGRe2vjb1rUB9H9RAaDVBICSeWnjb1reWqiDY1w/JVuysurgOJ87BwDaUoHTxvjn9X/3997BJGX074j5dijdOZauCVkAtJ3mOp37XnPd0XHa+5R5ly1fF7IAaDvNTHvunWYmROH8p8i/dfm6kAVA2wkAzeeljb9ZAaD5vLTxNysANJ+XNv5mtSOAzM8GAG2umNPGfUO2GV7C7meW5uklLFyaV7lzBEUx90kAaGtFyHAv7s09wUMRKeeg2Hc70swEKV5Rwoia6pAFQNtoZtQKA2svZSzingiANhYAyueljb9JAaB8Xtr4mxQAyueljb9JAaB8Xtr4W9Tc+un9NLC6O8ci/h0AaEtF/DQcMfTHO5icxgel7hxtuPOKR8wS/h0AaENJ1wzZ6VBAdlTTXkjnzuHu6xMz6XTs/h0AaEPJZQkx7eEIMVUK50GapQxZgiWmPdMcyQKg9QWAdHlp429OAEiXlzb+5gSAdHlp429OAEiXlzb+xkQfSfCW2e/DBfj7cWn+ROcG1yi2YfEW4EUhkim1tSILgNYVPWWPjIAZj6aAGZU7h3uTF+4cohyplMp6kQVAq0p8SuokR61w+CpaykgNYxEnxGRKVcXIAqBVBYAK8tLG35KuH6DfogJACwkAFeSljb8lAaCCvLTxNyRvxZNYkOunxI9cP+VrKBPpzsEpB3qXp4AoSzKlqmZkAdB6CrZUOY2uHDF3DuHBoXTnOEZ3XokWZ7m3eAC0gcZuQnQt99PeR/WxINnpUOAw7X2aJCTplPLKkQVAq0nMf2aWMuS0JzUPqlrKWKFyZAHQagJAhXlp429FAKgwL238rQgAFealjb8VAaDCvLTxt6H5LVXol5+Z7ykMlrfUKPs6x/rVIwuA1tH4lBNk3I/OQUGKRxMTGDCj+DrH2vUjC4BWEY8zirGpZtQKh68tPko2rSBZALSKAFBFXtr4WxAAqshLG38LAkAVeWnjb0EAqCIvbfwtaFzxdCzMrJKmU4iSGXcOR8sWuxtMK0gWAK2j1JYq+YMjuX+kPTg6Po4UiH+dY22EANDqOkOnI1JWrB1ZALSatp/2bDgPAkDrCwAV5qWNvxUBoMK8tPG3IgBUmJc2/lYEgArz0sbfhua+tFHzDY4DpcxtqSJS1qseWQC0jvTMFGypctQwE6SsVT+yAGgVlYxa4fBlG7VEykoVJAuAVhEAqshLG38Luh2A/jcqAGQUAKrISxt/CwJAFXlp429AReunnOJosa2fypR1akgWAC2vYEuV0ym3i8pp9N4oc9powy1V2jZIOaz0Kg+AVlPRNzhMnQ7dr50GvBS+ZvlakgVAS2uc0yj+/all2qMoykF/bmktyQKgpQWAAJBJAAgAmQSAAFCVuEnPBpCIAUCXo24xfbDeVxPoJWzcHsO9hNECvHDaaGkBnrZHaRsOHPxA5CusEe8Nvmb5+pIFQEuIyGjD77bILVU8dw6Ch97gHYHHxgUcEBTg77ZEUYljtdq3XgDQkpoZtcKI8XPictSi3NpUQKZwRHKwwlLGBWhZgKpKsN5sJ3FDsgqAvv7UfPOBDp6/ew0+/7lpvv0lzCt1j+sXAJoF6P2b7r9BL287ln5/E8srdY/rFwCaA+jlh8eh33nVx+bvXej997G8Uve4fgGgOYA6eDqIOv3rl+7o6z8fY3ml7nH1mt3DYBrhb6lypLcvCnBuFEjfMAjIfw4vcpMX2+pMNgHQoP4UHyA6+mvzp0eRV+oeV67YLioPD8PBAwXiW6oM1DinDcrtEPhpRG4Y9+CgPzIldrG11mTLeqDh6Pkvj+3LPz6EeaXucd0aXTO403noRfZhzp3D5TF2HDQShT2Kd0NKKfEuo2vT2ZZWm2wNQJ3GGAA0nf8QNw9jIJj+eEsZIjfFgkVqbWPOv1Vkb6422bJJNAASAkA5gCav8T1Av7++yj//Db8D9QJAWYBe3vY/JA7v7n0P9LHxfloEQABoHiBtXtr469IiAI2LXAAoH39lIteMB7fu/m54/eoi6G1sxp2jz8FfgB+eb3LjlMKvc3AKXdv4EZZakwVAZvWuGe59vXnXieDpLKfQ74ihO4dwAZrZOKXi6xyc0oYptkqTBUALaBys3jk1qWFsbimjYARSjFr5FFOVyQKgBXTLAP0nKgBUJAAEgEwCQADIJAAEgCzy1k+JH47ggMKdwz1XzVroYRpY5rsdJS9mAGgx9dQMHhxPT+6gCziehoBDaHCxmLhziA9yuGcc3zglt79K6cGkHiXv9gBoKY2dzlOvZgzI7shdMvN1jnQHQvezdTr5zk1ZbbIAyKhx2vPkwHmigJgQ8TWnYCIk5kGRKQxfLFLS1yhSgly1MyMAtJQAEAAyCQABIJMAEAAy6WoBmn98AGgZNc3PtAD/qRnevT41LvBEKe94Rd55VcxtjzE8Rd4eI+KAEaaIa8q21BiKFN4n5/EBgBZR8/OrehegT6/qmPlEAfcmP7zMk09Qh1C42YrYoOcwbtATPH+6q58irjn6F1c6ejTTG8ZqThYAGdTz0yH0yWkMiGFMLGWEw1hkizAxAvGNOUVco1gYKUhJV50sADIIAAEgkwAQADIJAAEgkwAQALKocQA1jQOH7CdvZZUWVKU7x3RB9ahaWaU7c4q45ji92Ljmmq47WQBUq46WDqGm+fXXX4eDwX4aDvqfgoZFec+dY/xCh7fzynHYcSXw7XAUBDuv0M05RVxzPB6Daw4Gr49U7ckCoDqNnc6vgyjgdUc0jI3uHNNeKLb3U7o74hQqgExZpzuK158sAKrTONv5lQgiG86DnngpI5wH1e0bTyWQKetMiOL1JwuA6gSAnAVAdQJAzgKgOgEgZwFQnW4QoMnzBEAmNc1/aAH+t8a9fH1u3MsYpfzcPNGSPLtz0Gc66CUsXJo/0WJ6xNHjSIGhBLGU1DUFS/OxlOGGk74IAFk0tFrn+vPbq3pmPr+qCziaPjlHjyfhzkFb95zEt16IpmPS0UNu6pNmxkupYSZIEVsEASCDuNF6fjqEPjuN4xktcsiljNQwVjee5VNqRi39eMYD9lQAaE4ACACZBIAAkEkACACZBIAAkEUNAdQ4gJrGEeStrLKjh3DnICv3PSBbsrKqSHGPvsqdQ6ZQI5AFQIXq8OkR6qjpEGqaL1++jAfs29G/xUfdOdx6fLDzSvSgRyDq6KE8OFR4cGQOhmag5gBAZWqo8+FO58sgrztybVjlzrFsd7RMpyNSWgBULR6+eNrzhQiiCRE3Ys1SxrITooLJTUlKC4CqBYAAkEkACACZBIAAkEkACAAZ1LlxDC9hn2kB/o/GvYR9Hpfm+yYc3TkeQncOsQCfXpqXjh75Bfj01xkq3TlECgCqUuPgcd1Px8wfr3p9kyeafou4cwzweO4cBcwEKSoXIPeUI9+HWZImAFSucQWDh68/Bs0sZaQ/NK4YtUTK+Uat2DDWNwoAUgsAASCTABAAMgkAASCTABAAMqnhhVTCxQE0685BC6nszuFY0KyfypQjvX1NA+uvn4oUahQAVKDBlaP7scetw3cIxdw52nZw53g3unI4d468B0f64DjvtHGc3a1l2QP8DlQpz2mDvDikOwed+m7qTFbZ6VDg/J0Op7T4IbFavGDBKxhiKYNPDd1Zq6Y9HHH+aQ8HWgBULQAEgEwCQADIJAAEgEwCQADIoM5ZY3jVcq9fXSBw5+BTebOVB/4oh34B/jguwFOAXsLCBfjVnDZSKX31qJoASK/GfcDlN2LmC0PE7hx8Lm+2Qr5A9Duixp1jIEP1rZdtmPFSXP2onv+OCgBFNK5ThMPXuJTB5wbOiEVLGeFgtdaXo2pSuIJkAZBaAAgAmQSAAJBJAAgAmQSAAJBFzbiZAXHDC6rszsHn8mYrNe4cDo6Z9VNOcc919fVTstwaZAGQTm4Xlf4t3v8gx2A/Dweds0dLrhzDhzmcO8f8Ziunk/v+xrzTRvzgsJEHh48PACrVuI+T+CQQe5fxdzvImYzdORRf5yjodETKyp2O6H36BiELgFQa/7mp+CgZB8jh9WfxdbL8v0wtmfak5kGrL2VMGoQsAFIJAAEgkwAQADIJAAEgkwAQALKpcS9hYnuM3+hLC/Tdjk8Nf1jBvYS94w8szGy20qOg2Tgl/T2FdRbgW0qZtgdZAKRUT4Z7kx836Blo+jx+t8Nx9vPozkE+QfSDYnKzlSJmgpTV3Dlc3cWuYQCoXJEtwmg843+zyqeIfePDNY3IUkbBqCVSVh61xLMEQOW6ZYBkY5AFQGoBIL8xyAIgtQCQ3xhkAZBaAMhvDLIASCtvDwP+BgevrNJCKq+5sjvHdEH1Ye4fyjsW9rClCgXSrUEWAOnkNk7pfwr65L7BQZ/q6IkZXDncQXcqu3PQn4fRr8P7VMdk5xWlB0f84LCyB8e0PcgCIJXGjVOoi5Gdjjtz7H3YnYOs9C4T3VFJpyNSFul0REq8QcgCIJXGj4YTL3LaI07l+U9qHhTZfa5g2iNTCiY3BSnxBiELgFQCQGGDkAVAKgGgsEHIAiCVAFDYIGQBkEoAKGwQsgBIoW4Nnd6s3Io8b5zxMy3APzXDqU8Nr8SzOwdZuXEGWV6aH1CoXJrvH3hzXNadI94kZJ+imlz19afmmw908PzdhyDm+gFyT/mJXDM+kZPDf5znzydipiXOnkZmfIjeRbbuEd/tqHHn8L71cqRAPTOhO0esTcgqAHr/pvtv0Mvbjhw/5voB4nGGhyROId9Dbrdw+BLDWMQ9MfRTrFrKWGk8SzcK2TxALz88Dv3Oqz42f38N+TEtAAJAEYAG9ac8O2Q6/euX7siPaQEQAJrvgaa4ACAA1FedLADKCgDFGoUsAMpqXPF0CHDjjVuq0MjPUwA6lQPEj/yH8sTPMv9QnlMcAmu7c+QBmk6Zn29vEt0OPhd9YIJPd8BbqgzUOK+P0YvjXXBALh0Po19HbBuWGncOcXDYwp0jD9D0pb0H57Ze49sOFhkQXUu60+EU6n3W9i6b9kKrunMoAHp52/9s+P777qAHyMUEeaXucZWKTG7S055g+vOwtn9rOA9acylDAVC2LQvjr0IAyFkAVCcA5CwAqhMAchYAqSTqAoCcBUAKdSvlQcSDWGb3nDaClAf+wAK7c9BLWHIbljp3jiBlJ+4c2eYtjL84uYfrRbjnn2ZGuAC9o2seGKKUO4fxWy+cUs/Mwu4c2fYtjL808W8zHMEjUM2odXNLGfkGLoy/NAGgWKOQBUBZAaBYo5AFQFkBoFijkAVAWQGgWKOQBUA5jQudHEEMVK2fkr0Zd458CxfGX5QGx4gJPt2zfiC3jLjTBv3h0yYeHJOdV1Zy57B4cEwOUu1CFgDNafyLzTHsgDHthWLuHIpOZyV3DkunI1LiLUMWAM1pnFFwDD37cB4UWcpQTHvWWcowTXtESrxlyAKgOQEgAGQSAAJAJgEgAGQSAAJANo2L3O7wNDpguDesiNMGBeglbOZ7CmQN7hze9xTImhbgg5REw5D9n6gAEGt8Yi09ZX7+RIZ02vA26KHAvQ+P5wJk3LpneMr8RZelt+5JNgtZAJQVjww8vPAIFIxRkQULjlCMWjVLGZaxSZGSbhSyACgrABRrFLIAKCsAFGsUsgAoKwAUaxSyACgrABRrFLIAKKtxjdI94HEt1MEx57RBAb6GrFw/Jbu500Y6Jd0oZAFQXp6XBPlc3JMnBvtpTJw26M/96L2R2l9l4sHhluE1n904Luq0kT5ItQlZAKSR91eeu4lpL3Q9nY5IibcIWQCk0jjpSM2DrmbaI1LiDUIWAKkEgMIGIQuAVAJAYYOQBUAqAaCwQcgCIJUAUNggZAGQTrT8TV9a8Fwz6J1rdNqgAL2EJZ02CrbHWHoTDHVKoj3IAiCl+mc5BE4hGfylDXbaeBidNigQMOPRlGIm7bSxMjNw51hFwitxHJvCiEiKGLU4YoejFkdkGwMAVQgAASCTABAAMgkAASCTABAAqhDtn9bGVkmnEbEUwmVcP6UAUbKj9VMOpFuDLADSyflP9G/xp8A14158aYP+nEbvjcCD4zh6b+zBaSN9kGoPsgBIpYg7BwWurdMRKfEGIQuAVJJLGTyFubZpj0iJNwhZAKQSAAobhCwAUgkAhQ1CFgCpBIDCBiELgFQCQGGDkH2ICgBN5C2MRxbT6Z1rdNqgwIlOCa5RfDVheH7bOW1Uu3MAoLzGp+wD4ZEhv7RxLznja1LMeDSdmZkSdw4AlBWPM+GQFBmbFCnpUSsYvc44anFEulHIAqCsAFCsUcgCoKwAUKxRyAKgrABQrFHIAqCsAFCsUcjuHaAZjwLFteyAEeTWFGTrrXg6BGZWSRUpnBsFjtPAHtZPOZBuFbL7BmjWo0Bx7WFwwHCZUIBTVLmQd8XJ98YoPeAMhNMGHxwO5MVR5XMRVK4wg1Ru6XYhu2eAFH8RZi5W/IVTlIB6hT13OlxYskvmlmoZsrsG6EDVNF0cWM0Iz5nw/GTP055s1ZeZ9kzvQRYAzWYCgFItQxYAzWYCgFItQxYAzWYCgFItQ3aPAHHhRKWawMrAGHF7AMl2u0mAaA1YLgpPUvyIeMqBLibb+BGKlzBvyTztmhH70gYFThQYMkkvwCsWxlsuNUc0k2p4a+fimruGbONHxFK0T4ns3gASdT+I9kq3ZJgy+1zyReGnnGNGfmnjxODNOG1QIEt67u+N327tJKW/5u5VXeDOD8RT9M+J7M4AsvW+BSmKooTDl2bUEmNTetTiCEWpwxadGbVEyp2TCERSCh4UWQCULMr+ANK0m0gBQAAIAOnzAkAAKBc/mxcAAkC5+LmstnNYyBeFHnDJ+ilfQ3Zm/ZQCilIXtJtMcnAwNxwhUwqeFNk9AdTXxOaJUHIwX5SJz0WB0wZfozwwFjRotxgFFOtOG/+EB0XPiuyOABr/IqzU6ej/YstuIt3pnKa9z+IbpxS0W6oj8Rw90t1R4cMiu0OA7laa9siUdFHERCU97QnnP5ppTzj/sU3WxORGf6rimkROZAFQtCgAKHdTsgAoWhQAlLspWQAULQoAyt2U7H1UAGh3ABVQkb7mmgHqPAqGqmz4LYFUUSJL5vTOlVyazzttlGycwq4GVKQ53F273bnVda9FRROHC/Dt9Br94yK7F4AaaoO1mQlSIiVJPf9Zd44cM17KcOPZb3AM5fC6n1RhqchMhtf9hGSMnA253dF9irufdn8AcU+a7stXShElSY9ActQKRq+1Rq38hEiuRsjxTMwQah5UeA0AEiXZD0BjmdYFqEYACAABIAAk2g8AASAAlIuPnuvqtp07BwVESWbWQk/09jUNLL1+KouUShnPEAup4Sqpt36ay031wMjuBCDnc+DacRt3Dvoji5J2wCCnjdMYKPPgqClOKsU/40AN6P8MRC1KmdyRX4cVnx0CNP49W7/TUfyVT3cgppSaDjHbXyTrE7sPpZQ9m8hNye4HINW/JV0nRRYlPYWxpCjKlm6UgnbLp5gFgGabFQDlVALQ15+abz5Mgs9/bppvfwnzSt1DXaaVMUmnyKIAoIxKAHr/pvvPD/7+JpZX6h7qMq2MSTpFFgUAZVQA0MsPj+3zdx/84PvvY3ml7qEu08qYpFNkUS4AIAUmMylhoHRhrACgjpiOnDH49Z+P0Zqkaqgr0Vm3hhCl6R+4xjWjLCVftki79CmR5uKHmKxPIoXvQ4GoC8D84yKbAGhQf4oE6OWHvzZ/ehR5pe6hK9DmzAQpYXkWYyZIyZdNNE0Mq0mp0/WJptB9mE2RonheZGt6oOe/PLYv//gQ5pW6h0abj1oyRRRpkVFLpuTLlm9JUep0fZYZ05NFqgKoCzoTrV4mPnrusjDUpIgi7QegZHNdBECRSXQLgACQs3mA5Gv87998aJ//tujvQADoigF6edv/eti9u7vgx4Z/WmwBEADKAKTNSxsfPdeVfLP1U5kiikRP3LZ+KlIUZdM2l1w3lfWpa518CcjuBCB2WjiM3gubH4giuQde99mN+IGyOJrmmp6WzoAqV9YguQKQ3QtA7TndOTggisQpy3RHBWXLN1fkt8VEB1K3Dcv87cnuB6AzLmVwRLpIpmkP2ZKyFTaeX9qCZbPqEgCgaEq6SAAoyIksAAJANSVggP47KgAUFgkABTmRBUCXBpAsZFjaRqakmviqAIo5H/gR66dEikQp42L6YFdz5+CURBuFKRzRhMv5kxSy+hJknhXZPQFUWMOlU9JlGiw//5XdOTQ8jzEEeBNWI0wp+/uZfVRkdwVQ5Q/vy6Rk67fQeFZQtnTrhDGalILWUTwosgBI3WgAyC8KWQCkbjQA5BeFLABSNxoA8otCFgCpGw0A+UUhuy+A9uTOESkcnUosrOXOkSqSSElfY2sdxZMiuyeA+gp0/6M/Gx6oCzg4RhxXduegP6kSeAcuIpGiuA83fJDJfFOQ3RFA23c6nKIvY0N2bXeOVGcQ6WPSKYr7cH2CTHINQXaHAG037SFbWNC+sCXTnmD6s0zZxlOzDWma+iXuThYAAaAaASDVQ5opLAAaLAACQDUCQKqHNFPYrQHS/CiUasibAGhuWXrllKJycmHL3TlmSpArWzPz3Q6F08bM9xQqtTuANmbmELR+mSi3IneOTAlmy5YgPUJg+Rdd6rQ3gDYftTiipKZBYQ+KUYsj8iVQpNS0m3gcTRhRIwCUfCb6wl4WQMsKABnaFwABIABkFAAytC8A2h1AZ1g/pUBJTaeFPRS5c+RLoEmhEhS0W3kFVY1Adg8AFTkfLHLANy2p57SwLifHRsKD4zCeoihBcFo8xbsuUrm2xjWjRjsC6GydTlXrztynvNNJfmBDPnlVTenUsKNaQXsC6EANEAZ2NO0RpY3cp2LaM9MY2WaKlMBSsUIBoEoBIFccsgCoTADIFYfsMSoAlCstAHIWAJVpa4DEb0EASJ7Xt8B2C/AldYuUNnUf2qClbTjAKWTzJeBrqGnGxfSgPsu5ZtRoTwC17erMeCklNZst7PQ+Q4prOApMnn87Ccxmz08nINCrzyQ3/5qNtC+ANlzKKKlYrrByuUAE0ikz2afvI6oh7rOVAJBBaYCW1UrTuGXKRhYAlQsAASCTABAAMgkA7Q6g1ddPOaWkYsnSivtU5BFxzRAp6fqY62DVrgAq9saoPiipVqbAJpeJlGuGSJlUoa2/4eLaEUDbuXOUVCpb6LADKbq6pj5856XqYNKeADpQo4WBhVNK6rSuqupz7kJPBYDOKQAUzUsbH54GgABQUXx4GgACQEXx4Wk3A5BmkQsA5eOnJ+34GxzLas41g0td5QJyDu0FoHWZCd0fzqmQjJSrSY0LyBm0E4DWHrU4oqQ+q0hTajq1TQb2IwC0sQoAuggBoI0FgPJ5aeP9UwDQngpZIAC0sQBQPq9sfJHDwrIpJfVZRZpSn7uMJToDQBqHhWUPvJueX0HZ7u7uRINckjYHaDunjeDv836ejFe2u0GiS74cbQ/QgR51GLjaaY/QWLY7IujcRaoWADqDrhKg/4oKAK0hADSf12w8AAJAubxm4wEQAMrlNRO/oWdviLgAAALbSURBVNPGTt0fuja4G502Ji9hl6htAVqXmdBpY5fuD8wMOW1cND4bA7T5qLXDRyNGrR2WsUTXDdAOdQXTnokA0MYCQPm8kvEACABp8krGAyAApMkrGc9PuiHbTCOuxmkjrXD99NK18Wt84x74qh4clU2xkZwHx7mLsZS2/iX6Mj78s64u0GkjretbyqhpBahaAAgyCQBBJgEgyCQABJl04e4c591oBLpwd44hz/NtNAJd9lKGqENRzaFFdA0AQWcUAIJMAkCQSQAIMumS3Tlq6wwtqItz53C5AJ+dqASgrz8133yYBL2YVgOQ2Z2Dc1mk8pBdJQC9f9P95we9mFYHkHEpY7F6QwuJAbqLyn9iLz88ts/fffCCXoyfV+oewwEAuirlABrUn9Kh0iEzBr0YP6/UPYYDAHRVKuiBABAkBYAgkzYGyOq0Ae1N206i7U4b0M5UAJD9NX4Rpw1oVyoB6OVt/7Ph++856EyQV+oe17C/GhSoBCBtXsl4AHR9AkCQSQAIMmlLgOC0cYXaDiCV04bnqwGnjYvQZgBpOh13Opw2LkhbAzQ37bHUAzqTABBkEgCCTAJAkEkACDJpI4BUThvQBWoTgNROG9DFaROA0qMWR9hqAZ1NAAgyCQBBJgEgyCQABJm0zVvYgd6+pgE4bVy+tvkdiFwz4LRxddrodyDoapV5yEsABEEqASDIJAAEmQSAIJMAEGQSAIJMAkCQSQAIMgkAQSYBIMgkAASZBIAgkwAQZBIAgkwCQJBJAAgyCQBBJgEgyCQABJkEgCCTABBkEgCCTAJAkEkACDIJAEEmASDIJAAEmQSAIJMAEGQSAIJMAkCQSQAIMgkAQSYBIMgkAASZBIAgkwAQZBIAgkwCQJBJAAgyCQBBJgEgyCQABJkEgCCTABBkEgCCTAJAkEkACDIJAEEmASDIJAAEmQSAIJMAEGQSAIJMAkCQSQAIMgkAQSYBIMik/wdMfPKBrySulQAAAABJRU5ErkJggg==" style="display: block; margin: auto;" /></p>
<p>I also have similar functions to kernel density for bisquare weights, <code>bisq_xy</code>, and for inverse distance weighting, <code>idw_xy</code>. And for these you can pass in weights the same as for the counts I showed above. I don’t have any demographic data here, but for egohoods you may have census data at centroids, such as the total number households in poverty, and use that as a weight (or a mean estimate).</p>
<p>One function that is slightly different than others is the distance between two point sets. So here is the distance to the nearest NYC outdoor cafe (note that this data source has no outdoor cafes in Staten Island):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>hex_grid<span class="op">$</span>dist_cafe &lt;-<span class="st"> </span><span class="kw">dist_xy</span>(hex_grid,nyc_cafe)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">spplot</span>(hex_grid,<span class="dt">zcol=</span><span class="st">&#39;dist_cafe&#39;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Unlike the other functions, you can pass in two point sets here, under the hood it just grabs the X/Y coordinates for each set. So here is the closest shooting to a cafe.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>dist_shoot &lt;-<span class="st"> </span><span class="kw">dist_xy</span>(nyc_cafe,nyc_shoot,<span class="dt">fxy=</span><span class="kw">c</span>(<span class="st">&#39;X_COORD_CD&#39;</span>,<span class="st">&#39;Y_COORD_CD&#39;</span>))</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="kw">summary</span>(dist_shoot)</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#&gt;   33.23  283.35  517.18  612.67  844.48 5765.32</span></span></code></pre></div>
<p>Not shown, but if the base polygons/features do not have X/Y coordinates. You can do something like <code>coords &lt;- coordinates(base); base$x &lt;- coords[,1]</code> and ditto the second column for y (assuming <code>base</code> is a sp class object). This function does not have a weight function, as that does not make sense.</p>
<p>The final feature engineering point to note is the <code>dcount_xy</code> function. Unlike the other functions that operate on the centroids of the polygons (or whatever X/Y coordinates you pass in), this counts the number of points within a specified distance to the polygon border. This buffers the feature dataset and then calculates the overlap, so with very large features can take a bit (whereas kernel density calc timing is mostly a function of how many base polygons you have):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>hex_grid<span class="op">$</span>dcnt_cafe1mile &lt;-<span class="st"> </span><span class="kw">dcount_xy</span>(hex_grid,nyc_cafe,<span class="dv">5280</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt; Warning in RGEOSBinPredFunc(spgeom1, spgeom2, byid, func): spgeom1 and spgeom2</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">#&gt; have different proj4 strings</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="kw">plot</span>(hex_grid<span class="op">$</span>dist_cafe,hex_grid<span class="op">$</span>dcnt_cafe1mile,<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">10000</span>))</span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">5280</span>) <span class="co"># not perfect, because of difference between polygon distance vs centroid distance</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Again you can use a weight function in the <code>dcount_xy</code> function. So if you wanted to say count the number of children attending school in 1 kilometer of your base polygons, this would be the function you use.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
